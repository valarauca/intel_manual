<!DOCTYPE html >
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p48" style="overflow: hidden; position: relative; width: 935px; height: 1210px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	-webkit-transform-origin: top left;
	-moz-transform-origin: top left;
	-o-transform-origin: top left;
	-ms-transform-origin: top left;
	-webkit-transform: scale(0.25);
	-moz-transform: scale(0.25);
	-o-transform: scale(0.25);
	-ms-transform: scale(0.25);
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_48{left:69px;top:1124px;letter-spacing:0.1px;}
#t2_48{left:103px;top:1124px;letter-spacing:0.1px;}
#t3_48{left:69px;top:49px;letter-spacing:-0.2px;word-spacing:0.1px;}
#t4_48{left:69px;top:101px;letter-spacing:-0.1px;}
#t5_48{left:151px;top:101px;letter-spacing:-0.4px;word-spacing:0.2px;}
#t6_48{left:69px;top:128px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#t7_48{left:69px;top:145px;word-spacing:-1.9px;}
#t8_48{left:69px;top:162px;word-spacing:-1.9px;}
#t9_48{left:69px;top:179px;word-spacing:-1.9px;}
#ta_48{left:69px;top:196px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#tb_48{left:69px;top:217px;word-spacing:-1.9px;}
#tc_48{left:69px;top:232px;}
#td_48{left:95px;top:240px;letter-spacing:-0.1px;word-spacing:-4.1px;}
#te_48{left:95px;top:257px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#tf_48{left:95px;top:273px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#tg_48{left:95px;top:290px;letter-spacing:-0.1px;word-spacing:-1.7px;}
#th_48{left:69px;top:306px;}
#ti_48{left:95px;top:313px;letter-spacing:-0.1px;word-spacing:-5px;}
#tj_48{left:95px;top:330px;letter-spacing:-0.2px;word-spacing:-1.8px;}
#tk_48{left:95px;top:347px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#tl_48{left:69px;top:362px;}
#tm_48{left:95px;top:370px;word-spacing:-3.4px;}
#tn_48{left:95px;top:387px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#to_48{left:95px;top:403px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#tp_48{left:95px;top:428px;}
#tq_48{left:121px;top:428px;letter-spacing:-0.2px;word-spacing:-2.5px;}
#tr_48{left:121px;top:445px;word-spacing:-1.9px;}
#ts_48{left:95px;top:469px;}
#tt_48{left:121px;top:469px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#tu_48{left:121px;top:486px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#tv_48{left:95px;top:510px;}
#tw_48{left:121px;top:510px;letter-spacing:-0.1px;word-spacing:-4.8px;}
#tx_48{left:121px;top:527px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#ty_48{left:121px;top:544px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#tz_48{left:121px;top:561px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#t10_48{left:95px;top:584px;letter-spacing:-0.2px;word-spacing:1.5px;}
#t11_48{left:95px;top:600px;word-spacing:13.6px;}
#t12_48{left:95px;top:617px;word-spacing:-0.3px;}
#t13_48{left:69px;top:633px;}
#t14_48{left:95px;top:640px;word-spacing:-2px;}
#t15_48{left:95px;top:657px;letter-spacing:-0.1px;word-spacing:-1.9px;}
#t16_48{left:95px;top:674px;letter-spacing:-0.1px;word-spacing:-2.9px;}
#t17_48{left:95px;top:691px;letter-spacing:-0.1px;word-spacing:-2px;}
#t18_48{left:95px;top:707px;letter-spacing:-0.2px;word-spacing:-1.8px;}
#t19_48{left:69px;top:723px;}
#t1a_48{left:95px;top:730px;word-spacing:-2.6px;}
#t1b_48{left:95px;top:747px;word-spacing:-1.9px;}
#t1c_48{left:95px;top:764px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#t1d_48{left:95px;top:781px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#t1e_48{left:95px;top:798px;letter-spacing:-0.1px;word-spacing:-4.3px;}
#t1f_48{left:95px;top:814px;word-spacing:-2.1px;}
#t1g_48{left:69px;top:836px;word-spacing:-1.9px;}
#t1h_48{left:69px;top:853px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#t1i_48{left:69px;top:874px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#t1j_48{left:69px;top:891px;word-spacing:-2.1px;}
#t1k_48{left:69px;top:912px;word-spacing:-2.7px;}
#t1l_48{left:69px;top:929px;word-spacing:-3px;}
#t1m_48{left:69px;top:946px;word-spacing:-1.9px;}
#t1n_48{left:69px;top:967px;word-spacing:-1.9px;}
#t1o_48{left:69px;top:984px;letter-spacing:-0.1px;word-spacing:-1.8px;}
#t1p_48{left:69px;top:1005px;letter-spacing:-0.1px;word-spacing:-1.8px;}

.s1_48{
	FONT-SIZE: 48.8px;
	FONT-FAMILY: NeoSansIntel_2koi;
	color: rgb(0,0,0);
}

.s2_48{
	FONT-SIZE: 55px;
	FONT-FAMILY: NeoSansIntel_2koi;
	color: rgb(8,96,168);
}

.s3_48{
	FONT-SIZE: 73.3px;
	FONT-FAMILY: NeoSansIntelMedium_2kog;
	color: rgb(8,96,168);
}

.s4_48{
	FONT-SIZE: 55px;
	FONT-FAMILY: Verdana_9zn;
	color: rgb(0,0,0);
}

.s5_48{
	FONT-SIZE: 85.4px;
	FONT-FAMILY: TimesNewRoman_9zw;
	color: rgb(0,0,0);
}

#form1_48{	z-index: 2;	cursor: pointer;	border-style: none;	padding: 0px;	position: absolute;	left: 394px;	top: 196px;	width: 70px;	height: 17px;	text-align: left;	background: transparent;	font: normal 12px Arial, Helvetica, sans-serif;}

</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts48" type="text/css" >

@font-face {
	font-family: NeoSansIntelMedium_2kog;
	src: url("fonts/NeoSansIntelMedium_2kog.woff") format("woff");
}

@font-face {
	font-family: Verdana_9zn;
	src: url("fonts/Verdana_9zn.woff") format("woff");
}

@font-face {
	font-family: NeoSansIntel_2koi;
	src: url("fonts/NeoSansIntel_2koi.woff") format("woff");
}

@font-face {
	font-family: TimesNewRoman_9zw;
	src: url("fonts/TimesNewRoman_9zw.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg48Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg48" style="-webkit-user-select: none;"><object width="935" height="1210" data="48/48.svg" type="image/svg+xml" id="pdf48" style="width:935px; height:1210px; background-color:white; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div id="t1_48" class="t s1_48">2-14</div>
<div id="t2_48" class="t s1_48">Vol. 2A</div>
<div id="t3_48" class="t s2_48">INSTRUCTION FORMAT</div>
<div id="t4_48" class="t s3_48">2.3.5 </div>
<div id="t5_48" class="t s3_48">The VEX Prefix </div>
<div id="t6_48" class="t s4_48">The VEX prefix is encoded in either the two-byte form (the first byte must be C5H) or in the three-byte form (the </div>
<div id="t7_48" class="t s4_48">first byte must be C4H). The two-byte VEX is used mainly for 128-bit, scalar, and the most common 256-bit AVX </div>
<div id="t8_48" class="t s4_48">instructions; while the three-byte VEX provides a compact replacement of REX and 3-byte opcode instructions </div>
<div id="t9_48" class="t s4_48">(including AVX and FMA instructions). Beyond the first byte of the VEX prefix, it consists of a number of bit fields </div>
<div id="ta_48" class="t s4_48">providing specific capability, they are shown in Figure 2-9. </div>
<div id="tb_48" class="t s4_48">The bit fields of the VEX prefix can be summarized by its functional purposes:</div>
<div id="tc_48" class="t s5_48">•</div>
<div id="td_48" class="t s4_48">Non-destructive source register encoding (applicable to three and four operand syntax): This is the first source </div>
<div id="te_48" class="t s4_48">operand in the instruction syntax. It is represented by the notation, VEX.vvvv. This field is encoded using 1’s </div>
<div id="tf_48" class="t s4_48">complement form (inverted form), i.e. XMM0/YMM0/R0 is encoded as 1111B, XMM15/YMM15/R15 is encoded </div>
<div id="tg_48" class="t s4_48">as 0000B.</div>
<div id="th_48" class="t s5_48">•</div>
<div id="ti_48" class="t s4_48">Vector length encoding: This 1-bit field represented by the notation VEX.L. L= 0 means vector length is 128 bits </div>
<div id="tj_48" class="t s4_48">wide, L=1 means 256 bit vector. The value of this field is written as VEX.128 or VEX.256 in this document to </div>
<div id="tk_48" class="t s4_48">distinguish encoded values of other VEX bit fields. </div>
<div id="tl_48" class="t s5_48">•</div>
<div id="tm_48" class="t s4_48">REX prefix functionality: Full REX prefix functionality is provided in the three-byte form of VEX prefix. However </div>
<div id="tn_48" class="t s4_48">the VEX bit fields providing REX functionality are encoded using 1’s complement form, i.e. XMM0/YMM0/R0 is </div>
<div id="to_48" class="t s4_48">encoded as 1111B, XMM15/YMM15/R15 is encoded as 0000B. </div>
<div id="tp_48" class="t s4_48">—</div>
<div id="tq_48" class="t s4_48">Two-byte form of the VEX prefix only provides the equivalent functionality of REX.R, using 1’s complement </div>
<div id="tr_48" class="t s4_48">encoding. This is represented as VEX.R.</div>
<div id="ts_48" class="t s4_48">—</div>
<div id="tt_48" class="t s4_48">Three-byte form of the VEX prefix provides REX.R, REX.X, REX.B functionality using 1’s complement </div>
<div id="tu_48" class="t s4_48">encoding and three dedicated bit fields represented as VEX.R, VEX.X, VEX.B.</div>
<div id="tv_48" class="t s4_48">—</div>
<div id="tw_48" class="t s4_48">Three-byte form of the VEX prefix provides the functionality of REX.W only to specific instructions that need </div>
<div id="tx_48" class="t s4_48">to override default 32-bit operand size for a general purpose register to 64-bit size in 64-bit mode. For </div>
<div id="ty_48" class="t s4_48">those applicable instructions, VEX.W field provides the same functionality as REX.W. VEX.W field can </div>
<div id="tz_48" class="t s4_48">provide completely different functionality for other instructions.</div>
<div id="t10_48" class="t s4_48">Consequently, the use of REX prefix with VEX encoded instructions is not allowed. However, the intent of the</div>
<div id="t11_48" class="t s4_48">REX prefix for expanding register set is reserved for future instruction set extensions using VEX prefix</div>
<div id="t12_48" class="t s4_48">encoding format.</div>
<div id="t13_48" class="t s5_48">•</div>
<div id="t14_48" class="t s4_48">Compaction of SIMD prefix: Legacy SSE instructions effectively use SIMD prefixes (66H, F2H, F3H) as an </div>
<div id="t15_48" class="t s4_48">opcode extension field. VEX prefix encoding allows the functional capability of such legacy SSE instructions </div>
<div id="t16_48" class="t s4_48">(operating on XMM registers, bits 255:128 of corresponding YMM unmodified) to be encoded using the VEX.pp </div>
<div id="t17_48" class="t s4_48">field without the presence of any SIMD prefix. The VEX-encoded 128-bit instruction will zero-out bits 255:128 </div>
<div id="t18_48" class="t s4_48">of the destination register. VEX-encoded instruction may have 128 bit vector length or 256 bits length.</div>
<div id="t19_48" class="t s5_48">•</div>
<div id="t1a_48" class="t s4_48">Compaction of two-byte and three-byte opcode: More recently introduced legacy SSE instructions employ two </div>
<div id="t1b_48" class="t s4_48">and three-byte opcode. The one or two leading bytes are: 0FH, and 0FH 3AH/0FH 38H. The one-byte escape </div>
<div id="t1c_48" class="t s4_48">(0FH) and two-byte escape (0FH 3AH, 0FH 38H) can also be interpreted as an opcode extension field. The </div>
<div id="t1d_48" class="t s4_48">VEX.mmmmm field provides compaction to allow many legacy instruction to be encoded without the constant </div>
<div id="t1e_48" class="t s4_48">byte sequence, 0FH, 0FH 3AH, 0FH 38H. These VEX-encoded instruction may have 128 bit vector length or 256 </div>
<div id="t1f_48" class="t s4_48">bits length.</div>
<div id="t1g_48" class="t s4_48">The VEX prefix is required to be the last prefix and immediately precedes the opcode bytes. It must follow any </div>
<div id="t1h_48" class="t s4_48">other prefixes. If VEX prefix is present a REX prefix is not supported. </div>
<div id="t1i_48" class="t s4_48">The 3-byte VEX leaves room for future expansion with 3 reserved bits. REX and the 66h/F2h/F3h prefixes are </div>
<div id="t1j_48" class="t s4_48">reclaimed for future use.</div>
<div id="t1k_48" class="t s4_48">VEX prefix has a two-byte form and a three byte form. If an instruction syntax can be encoded using the two-byte </div>
<div id="t1l_48" class="t s4_48">form, it can also be encoded using the three byte form of VEX. The latter increases the length of the instruction by </div>
<div id="t1m_48" class="t s4_48">one byte. This may be helpful in some situations for code alignment. </div>
<div id="t1n_48" class="t s4_48">The VEX prefix supports 256-bit versions of floating-point SSE, SSE2, SSE3, and SSE4 instructions. Note, certain </div>
<div id="t1o_48" class="t s4_48">new instruction functionality can only be encoded with the VEX prefix.</div>
<div id="t1p_48" class="t s4_48">The VEX prefix will #UD on any instruction containing MMX register sources or destinations. </div>

<!-- End text definitions -->


<!-- Begin Form Data -->
<form>
<input id="form1_48" type="button" tabindex="1293" data-objref="9222 0 R" onclick="IDRViewer.goToPage(49);" data-action-type="GoTo" data-page="49" data-zoom="XYZ 70 365 null" title="Page 49"/>

</form>
<!-- End Form Data -->

</div>
</body>
</html>
